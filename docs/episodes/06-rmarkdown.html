<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Getting started with R Markdown (Optional) – statistics-with-R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-3c129233fa41f8075c1908222fcaba9d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">statistics-with-R</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../episodes.html"> 
<span class="menu-text">Episodes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#r-markdown" id="toc-r-markdown" class="nav-link active" data-scroll-target="#r-markdown">R Markdown</a></li>
  <li><a href="#creating-an-r-markdown-file" id="toc-creating-an-r-markdown-file" class="nav-link" data-scroll-target="#creating-an-r-markdown-file">Creating an R Markdown file</a></li>
  <li><a href="#basic-components-of-r-markdown" id="toc-basic-components-of-r-markdown" class="nav-link" data-scroll-target="#basic-components-of-r-markdown">Basic components of R Markdown</a></li>
  <li><a href="#markdown-syntax" id="toc-markdown-syntax" class="nav-link" data-scroll-target="#markdown-syntax">Markdown syntax</a></li>
  <li><a href="#writing-an-r-markdown-report" id="toc-writing-an-r-markdown-report" class="nav-link" data-scroll-target="#writing-an-r-markdown-report">Writing an R Markdown report</a></li>
  <li><a href="#insert-table" id="toc-insert-table" class="nav-link" data-scroll-target="#insert-table">Insert table</a></li>
  <li><a href="#customising-chunk-output" id="toc-customising-chunk-output" class="nav-link" data-scroll-target="#customising-chunk-output">Customising chunk output</a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a></li>
  <li><a href="#in-line-r-code" id="toc-in-line-r-code" class="nav-link" data-scroll-target="#in-line-r-code">In-line R code</a></li>
  <li><a href="#plots" id="toc-plots" class="nav-link" data-scroll-target="#plots">Plots</a></li>
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1">Exercise</a></li>
  <li><a href="#other-output-options" id="toc-other-output-options" class="nav-link" data-scroll-target="#other-output-options">Other output options</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Getting started with R Markdown (Optional)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="instructor">
<ul>
<li>This is an optional lesson intended to introduce learners to R Markdown.</li>
<li>While it is listed after the core lessons, some instructors may prefer to teach it early in the workshop, depending on the audience.</li>
</ul>
</div>
<div class="objectives">
<ul>
<li>Create a .Rmd document containing R code, text, and plots</li>
<li>Create a YAML header to control output</li>
<li>Understand basic syntax of (R)Markdown</li>
<li>Customise code chunks to control formatting</li>
<li>Use code chunks and in-line code to create dynamic, reproducible documents</li>
</ul>
</div>
<div class="questions">
<ul>
<li>What is R Markdown?</li>
<li>How can I integrate my R code with text and plots?</li>
<li>How can I convert .Rmd files to .html?</li>
</ul>
</div>
<section id="r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="r-markdown">R Markdown</h2>
<p>R Markdown is a flexible type of document that allows you to seamlessly combine executable R code, and its output, with text in a single document. These documents can be readily converted to multiple static and dynamic output formats, including PDF (.pdf), Word (.docx), and HTML (.html).</p>
<p>The benefit of a well-prepared R Markdown document is full reproducibility. This also means that, if you notice a data transcription error, or you are able to add more data to your analysis, you will be able to recompile the report without making any changes in the actual document.</p>
<p>The <strong>rmarkdown</strong> package comes pre-installed with RStudio, so no action is necessary.</p>
<figure class="figure">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="fig/rmarkdown_wizards.png" class="img-fluid figure-img" style="width:100.0%" alt="R Markdown wizard monsters creating a R Markdown document from a recipe. Art by Allison Horst"></p>
</figure>
</div>
</div>
</div>
<figcaption>
Image credit: <a href="https://github.com/allisonhorst/stats-illustrations">Allison Horst</a>
</figcaption>
</figure>
</section>
<section id="creating-an-r-markdown-file" class="level2">
<h2 class="anchored" data-anchor-id="creating-an-r-markdown-file">Creating an R Markdown file</h2>
<p>To create a new R Markdown document in RStudio, click File -&gt; New File -&gt; R Markdown:</p>
<p><img src="fig/new-rmd.png" class="img-fluid" alt="Screenshot of the New R Markdown file dialogue box in RStudio"></p>
<p>Then click on ‘Create Empty Document’. Normally you could enter the title of your document, your name (Author), and select the type of output, but we will be learning how to start from a blank document.</p>
</section>
<section id="basic-components-of-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="basic-components-of-r-markdown">Basic components of R Markdown</h2>
<p>To control the output, a YAML (YAML Ain’t Markup Language) header is needed:</p>
<pre><code>---
title: "My Awesome Report"
author: "Emmet Brickowski"
date: ""
output: html_document
---</code></pre>
<p>The header is defined by the three hyphens at the beginning (<code>---</code>) and the three hyphens at the end (<code>---</code>).</p>
<p>In the YAML, the only required field is the <code>output:</code>, which specifies the type of output you want. This can be an <code>html_document</code>, a <code>pdf_document</code>, or a <code>word_document</code>. We will start with an HTML doument and discuss the other options later.</p>
<p>The rest of the fields can be deleted, if you don’t need them. After the header, to begin the body of the document, you start typing after the end of the YAML header (i.e.&nbsp;after the second <code>---</code>).</p>
</section>
<section id="markdown-syntax" class="level2">
<h2 class="anchored" data-anchor-id="markdown-syntax">Markdown syntax</h2>
<p>Markdown is a popular markup language that allows you to add formatting elements to text, such as <strong>bold</strong>, <em>italics</em>, and <code>code</code>. The formatting will not be immediately visible in a markdown (.md) document, like you would see in a Word document. Rather, you add Markdown syntax to the text, which can then be converted to various other files that can translate the Markdown syntax. Markdown is useful because it is lightweight, flexible, and platform independent.</p>
<p>Some platforms provide a real time preview of the formatting, like RStudio’s visual markdown editor (available from version 1.4).</p>
<p>First, let’s create a heading! A <code>#</code> in front of text indicates to Markdown that this text is a heading. Adding more <code>#</code>s make the heading smaller, i.e.&nbsp;one <code>#</code> is a first level heading, two <code>##</code>s is a second level heading, etc. upto the 6th level heading.</p>
<pre><code># Title
## Section
### Sub-section
#### Sub-sub section
##### Sub-sub-sub section
###### Sub-sub-sub-sub section</code></pre>
<p>(only use a level if the one above is also in use)</p>
<p>Since we have already defined our title in the YAML header, we will use a section heading to create an Introduction section.</p>
<pre><code>## Introduction</code></pre>
<p>You can make things <strong>bold</strong> by surrounding the word with double asterisks, <code>**bold**</code>, or double underscores, <code>__bold__</code>; and <em>italicize</em> using single asterisks, <code>*italics*</code>, or single underscores, <code>_italics_</code>.</p>
<p>You can also combine <strong>bold</strong> and <em>italics</em> to write something <strong><em>really</em></strong> important with triple-asterisks, <code>***really***</code>, or underscores, <code>___really___</code>; and, if you’re feeling bold (pun intended), you can also use a combination of asterisks and underscores, <code>**_really_**</code>, <code>**_really_**</code>.</p>
<p>To create <code>code-type</code> font, surround the word with backticks, <code>`code-type`</code>.</p>
<p>Now that we’ve learned a couple of things, it might be useful to implement them:</p>
<pre><code>## Introduction

This report uses the **tidyverse** package along with the *SAFI* dataset, 
which has columns that include:</code></pre>
<p>Then we can create a list for the variables using <code>-</code>, <code>+</code>, or <code>*</code> keys.</p>
<pre><code>## Introduction

This report uses the **tidyverse** package along with the *SAFI* dataset, 
which has columns that include:

- village
- interview_date
- no_members
- years_liv
- respondent_wall_type
- rooms</code></pre>
<p>You can also create an ordered list using numbers:</p>
<pre><code>1. village
2. interview_date
3. no_members
4. years_liv
5. respondent_wall_type
6. rooms</code></pre>
<p>And nested items by tab-indenting:</p>
<pre><code>- village
  + Name of village
- interview_date
  + Date of interview
- no_members
  + How many family members lived in a house
- years_liv
  + How many years respondent has lived in village or neighbouring village
- respondent_wall_type
  + Type of wall of house
- rooms
  + Number of rooms in house</code></pre>
<p>For more Markdown syntax see <a href="https://www.markdownguide.org/basic-syntax">the following reference guide</a>.</p>
<p>Now we can render the document into HTML by clicking the <strong>Knit</strong> button in the top of the Source pane (top left), or use the keyboard shortcut <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd> on Windows and Linux, and <kbd>Cmd</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd> on Mac. If you haven’t saved the document yet, you will be prompted to do so when you <strong>Knit</strong> for the first time.</p>
<p><img src="fig/rmd-rmd_to_html.png" class="img-fluid" alt="The 'knitting' process: First, R Markdown is converted to Markdown, which is then converted (via pandoc) to .html, .pdf, .docx, etc."></p>
</section>
<section id="writing-an-r-markdown-report" class="level2">
<h2 class="anchored" data-anchor-id="writing-an-r-markdown-report">Writing an R Markdown report</h2>
<p>Now we will add some R code from our previous data wrangling and visualisation, which means we need to make sure <strong>tidyverse</strong> is loaded. It is not enough to load <strong>tidyverse</strong> from the console, we will need to load it within our R Markdown document. The same applies to our data. To load these, we will need to create a ‘code chunk’ at the top of our document (below the YAML header).</p>
<p>A code chunk can be inserted by clicking Code &gt; Insert Chunk, or by using the keyboard shortcuts <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>I</kbd> on Windows and Linux, and <kbd>Cmd</kbd>+<kbd>Option</kbd>+<kbd>I</kbd> on Mac.</p>
<p>The syntax of a code chunk is:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r chunk-name}</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="st">"Here is where you place the R code that you want to run."</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>An R Markdown document knows that this text is not part of the report from the <code>```</code> that begins and ends the chunk. It also knows that the code inside of the chunk is R code from the <code>r</code> inside of the curly braces (<code>{}</code>). After the <code>r</code> you can add a name for the code chunk . Naming a chunk is optional, but recommended. Each chunk name must be unique, and only contain alphanumeric characters and <code>-</code>.</p>
<p>To load <strong>tidyverse</strong> and our <code>SAFI_clean.csv</code> file, we will insert a chunk and call it ‘setup’. Since we don’t want this code or the output to show in our knitted HTML document, we add an <code>include = FALSE</code> option after the code chunk name (<code>{r setup, include = FALSE}</code>).</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include = FALSE}</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>interviews <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"data/SAFI_clean.csv"</span>), <span class="at">na =</span> <span class="st">"NULL"</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">None</span>Important Note!
</div>
</div>
<div class="callout-body-container callout-body">
<p>The file paths you give in a .Rmd document, e.g.&nbsp;to load a .csv file, are relative to the .Rmd document, <strong>not</strong> the project root.</p>
<p>As suggested in the Starting with Data episode, we highly recommend the use of the <code>here()</code> function to keep the file paths consistent within your project.</p>
</div>
</div>
</section>
<section id="insert-table" class="level2">
<h2 class="anchored" data-anchor-id="insert-table">Insert table</h2>
<p>Next, we will re-create a table from the Data Wrangling episode which shows the average household size grouped by <code>village</code> and <code>memb_assoc</code>. We can do this by creating a new code chunk and calling it ‘interview-tbl’. Or, you can come up with something more creative (just remember to stick to the naming rules).</p>
<p>It isn’t necessary to <strong>Knit</strong> your document every time you want to see the output. Instead you can run the code chunk with the green triangle in the top right corner of the the chunk, or with the keyboard shortcuts: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>C</kbd> on Windows and Linux, or <kbd>Cmd</kbd>+<kbd>Option</kbd>+<kbd>C</kbd> on Mac.</p>
<p>To make sure the table is formatted nicely in our output document, we will need to use the <code>kable()</code> function from the <strong>knitr</strong> package. The <code>kable()</code> function takes the output of your R code and knits it into a nice looking HTML table. You can also specify different aspects of the table, e.g.&nbsp;the column names, a caption, etc.</p>
<p>Run the code chunk to make sure you get the desired output.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>interviews <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(memb_assoc)) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(village, memb_assoc) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean_no_membrs =</span> <span class="fu">mean</span>(no_membrs)) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"We can also add a caption."</span>, </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Village"</span>, <span class="st">"Member Association"</span>, </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Mean Number of Members"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>We can also add a caption.</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Village</th>
<th style="text-align: left;">Member Association</th>
<th style="text-align: right;">Mean Number of Members</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Chirodzo</td>
<td style="text-align: left;">no</td>
<td style="text-align: right;">8.062500</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chirodzo</td>
<td style="text-align: left;">yes</td>
<td style="text-align: right;">7.818182</td>
</tr>
<tr class="odd">
<td style="text-align: left;">God</td>
<td style="text-align: left;">no</td>
<td style="text-align: right;">7.133333</td>
</tr>
<tr class="even">
<td style="text-align: left;">God</td>
<td style="text-align: left;">yes</td>
<td style="text-align: right;">8.000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ruaca</td>
<td style="text-align: left;">no</td>
<td style="text-align: right;">7.178571</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ruaca</td>
<td style="text-align: left;">yes</td>
<td style="text-align: right;">9.500000</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Many different R packages can be used to generate tables. Some of the more commonly used options are listed in the table below.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Creator(s)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://condformat.sergioller.com/index.html">condformat</a></td>
<td><a href="https://cran.rstudio.com/web/packages/condformat/index.html">Oller Moreno (2022)</a></td>
<td>Apply and visualize conditional formatting to data frames in R. It renders a data frame with cells formatted according to criteria defined by rules, using a tidy evaluation syntax.</td>
</tr>
<tr class="even">
<td><a href="https://rstudio.github.io/DT/">DT</a></td>
<td><a href="https://cran.r-project.org/web/packages/DT/index.html">Xie et al.&nbsp;(2023)</a></td>
<td>Data objects in R can be rendered as HTML tables using the JavaScript library ‘DataTables’ (typically via R Markdown or Shiny). The ‘DataTables’ library has been included in this R package.</td>
</tr>
<tr class="odd">
<td><a href="https://github.com/renkun-ken/formattable">formattable</a></td>
<td><a href="https://cran.r-project.org/web/packages/formattable/index.html">Ren and Russell (2021)</a></td>
<td>Provides functions to create formattable vectors and data frames. ‘Formattable’ vectors are printed with text formatting, and formattable data frames are printed with multiple types of formatting in HTML to improve the readability of data presented in tabular form rendered on web pages.</td>
</tr>
<tr class="even">
<td><a href="https://davidgohel.github.io/flextable/">flextable</a></td>
<td><a href="https://cran.r-project.org/web/packages/flextable/index.html">Gohel and Skintzos (2023)</a></td>
<td>Use a grammar for creating and customizing pretty tables. The following formats are supported: ‘HTML’, ‘PDF’, ‘RTF’, ‘Microsoft Word’, ‘Microsoft PowerPoint’ and R ‘Grid Graphics’. ‘R Markdown’, ‘Quarto’, and the package ‘officer’ can be used to produce the result files.</td>
</tr>
<tr class="odd">
<td><a href="https://gt.rstudio.com/">gt</a></td>
<td><a href="https://cloud.r-project.org/web/packages/gt/index.html">Iannone et al.&nbsp;(2022)</a></td>
<td>Build display tables from tabular data with an easy-to-use set of functions. With its progressive approach, we can construct display tables with cohesive table parts. Table values can be formatted using any of the included formatting functions.</td>
</tr>
<tr class="even">
<td><a href="https://hughjonesd.github.io/huxtable/">huxtable</a></td>
<td><a href="https://cran.r-project.org/web/packages/huxtable/index.html">Hugh-Jones (2022)</a></td>
<td>Creates styled tables for data presentation. Export to HTML, LaTeX, RTF, ‘Word’, ‘Excel’, and ‘PowerPoint’. Simple, modern interface to manipulate borders, size, position, captions, colours, text styles and number formatting.</td>
</tr>
<tr class="odd">
<td><a href="https://rapporter.github.io/pander/">pander</a></td>
<td><a href="https://cran.r-project.org/web/packages/pander/index.html">Daróczi and Tsegelskyi (2022)</a></td>
<td>Contains some functions catching all messages, ‘stdout’ and other useful information while evaluating R code and other helpers to return user specified text elements (e.g., header, paragraph, table, image, lists etc.) in ‘pandoc’ markdown or several types of R objects similarly automatically transformed to markdown format.</td>
</tr>
<tr class="even">
<td><a href="https://pixiedust.github.io/pixiedust/">pixiedust</a></td>
<td><a href="https://cran.rstudio.com/web/packages/pixiedust/index.html">Nutter and Kretch (2021)</a></td>
<td>‘pixiedust’ provides tidy data frames with a programming interface intended to be similar to ’ggplot2’s system of layers with fine-tuned control over each cell of the table.</td>
</tr>
<tr class="odd">
<td><a href="https://glin.github.io/reactable/">reactable</a></td>
<td><a href="https://cran.r-project.org/web/packages/reactable/index.html">Lin et al.&nbsp;(2023)</a></td>
<td>Interactive data tables for R, based on the ‘React Table’ JavaScript library. Provides an HTML widget that can be used in ‘R Markdown’ or ‘Quarto’ documents, ‘Shiny’ applications, or viewed from an R console.</td>
</tr>
<tr class="even">
<td><a href="http://jrowen.github.io/rhandsontable/">rhandsontable</a></td>
<td><a href="https://cran.r-project.org/web/packages/rhandsontable/index.html">Owen et al.&nbsp;(2021)</a></td>
<td>An R interface to the ‘Handsontable’ JavaScript library, which is a minimalist Excel-like data grid editor.</td>
</tr>
<tr class="odd">
<td><a href="https://github.com/cran/stargazer">stargazer</a></td>
<td><a href="https://cran.r-project.org/web/packages/stargazer/index.html">Hlavac (2022)</a></td>
<td>Produces LaTeX code, HTML/CSS code and ASCII text for well-formatted tables that hold regression analysis results from several models side-by-side, as well as summary statistics.</td>
</tr>
<tr class="even">
<td><a href="https://github.com/dmurdoch/tables">tables</a></td>
<td><a href="https://cran.r-project.org/web/packages/tables/index.html">Murdoch (2022)</a></td>
<td>Computes and displays complex tables of summary statistics. Output may be in LaTeX, HTML, plain text, or an R matrix for further processing.</td>
</tr>
<tr class="odd">
<td><a href="https://github.com/spgarbet/tangram">tangram</a></td>
<td><a href="https://cran.r-project.org/web/packages/tangram/index.html">Garbett et al.&nbsp;(2023)</a></td>
<td>Provides an extensible formula system to quickly and easily create production quality tables. The processing steps are a formula parser, statistical content generation from data defined by a formula, and rendering into a table.</td>
</tr>
<tr class="even">
<td><a href="https://github.com/cran/xtable">xtable</a></td>
<td><a href="https://cran.r-project.org/web/packages/xtable/index.html">Dahl et al.&nbsp;(2019)</a></td>
<td>Coerce data to LaTeX and HTML tables.</td>
</tr>
<tr class="odd">
<td><a href="https://github.com/cardiomoon/ztable">ztable</a></td>
<td><a href="https://cran.r-project.org/web/packages/ztable/index.html">Moon (2021)</a></td>
<td>Makes zebra-striped tables (tables with alternating row colors) in LaTeX and HTML formats easily from a data.frame, matrix, lm, aov, anova, glm, coxph, nls, fitdistr, mytable and cbind.mytable objects.</td>
</tr>
</tbody>
</table>
</section>
<section id="customising-chunk-output" class="level2">
<h2 class="anchored" data-anchor-id="customising-chunk-output">Customising chunk output</h2>
<p>We mentioned using <code>include = FALSE</code> in a code chunk to prevent the code and output from printing in the knitted document. There are additional options available to customise how the code-chunks are presented in the output document. The options are entered in the code chunk after <code>chunk-name</code> and separated by commas, e.g.&nbsp;<code>{r chunk-name, eval = FALSE, echo = TRUE}</code>.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 88%">
</colgroup>
<thead>
<tr class="header">
<th>Option</th>
<th>Options</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>eval</code></td>
<td><code>TRUE</code> or <code>FALSE</code></td>
<td>Whether or not the code within the code chunk should be run.</td>
</tr>
<tr class="even">
<td><code>echo</code></td>
<td><code>TRUE</code> or <code>FALSE</code></td>
<td>Choose if you want to show your code chunk in the output document. <code>echo = TRUE</code> will show the code chunk.</td>
</tr>
<tr class="odd">
<td><code>include</code></td>
<td><code>TRUE</code> or <code>FALSE</code></td>
<td>Choose if the output of a code chunk should be included in the document. <code>FALSE</code> means that your code will run, but will not show up in the document.</td>
</tr>
<tr class="even">
<td><code>warning</code></td>
<td><code>TRUE</code> or <code>FALSE</code></td>
<td>Whether or not you want your output document to display potential warning messages produced by your code.</td>
</tr>
<tr class="odd">
<td><code>message</code></td>
<td><code>TRUE</code> or <code>FALSE</code></td>
<td>Whether or not you want your output document to display potential messages produced by your code.</td>
</tr>
<tr class="even">
<td><code>fig.align</code></td>
<td><code>default</code>, <code>left</code>, <code>right</code>, <code>center</code></td>
<td>Where the figure from your R code chunk should be output on the page</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">None</span>Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>The default settings for the above chunk options are all <code>TRUE</code>.</li>
<li>The default settings can be modified per chunk, or with <code>knitr::opts_chunk$set()</code>,</li>
<li>Entering <code>knitr::opts_chunk$set(echo = FALSE)</code> will change the default of value of <code>echo</code> to <code>FALSE</code> for <strong>every</strong> code chunk in the document.</li>
</ul>
</div>
</div>
</section>
<section id="exercise" class="level2 challenge">
<h2 class="anchored" data-anchor-id="exercise">Exercise</h2>
<p>Play around with the different options in the chunk with the code for the table, and re-<strong>Knit</strong> to see what each option does to the output.</p>
<p>What happens if you use <code>eval = FALSE</code> and <code>echo = FALSE</code>? What is the difference between this and <code>include = FALSE</code>?</p>
<div class="proof solution">
<p><span class="proof-title"><em>Solution</em> (Solution to Exercise). </span>Create a chunk with <code>{r eval = FALSE, echo = FALSE}</code>, then create another chunk with <code>{r include = FALSE}</code> to compare. <code>eval = FALSE</code> and <code>echo = FALSE</code> will neither run the code in the chunk, nor show the code in the knitted document. The code chunk essentially doesn’t exist in the knitted document as it was never run. Whereas <code>include = FALSE</code> will run the code and store the output for later use.</p>
</div>
</section>
<section id="in-line-r-code" class="level2">
<h2 class="anchored" data-anchor-id="in-line-r-code">In-line R code</h2>
<p>Now we will use some in-line R code to present some descriptive statistics. To use in-line R-code, we use the same backticks that we used in the Markdown section, with an <code>r</code> to specify that we are generating R-code. The difference between in-line code and a code chunk is the number of backticks. In-line R code uses one backtick (<code>`r`</code>), whereas code chunks use three backticks (<code>```r```</code>).</p>
<p>For example, today’s date is <code>`r Sys.Date()`</code>, will be rendered as: today’s date is 2025-11-03.<br>
The code will display today’s date in the output document (well, technically the date the document was last knitted).</p>
<p>The best way to use in-line R code, is to minimise the amount of code you need to produce the in-line output by preparing the output in code chunks. Let’s say we’re interested in presenting the average household size in a village.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a summary data frame with the mean household size by village</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>mean_household <span class="ot">&lt;-</span> interviews <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(village) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean_no_membrs =</span> <span class="fu">mean</span>(no_membrs))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># and select the village we want to use</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>mean_chirodzo <span class="ot">&lt;-</span> mean_household <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(village <span class="sc">==</span> <span class="st">"Chirodzo"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Now we can make an informative statement on the means of each village, and include the mean values as in-line R-code. For example:</p>
<p>The average household size in the village of Chirodzo is <code>`r round(mean_chirodzo$mean_no_membrs, 2)`</code></p>
<p>becomes…</p>
<p>The average household size in the village of Chirodzo is 7.08.</p>
<p>Because we are using in-line R code instead of the actual values, we have created a dynamic document that will automatically update if we make changes to the dataset and/or code chunks.</p>
</section>
<section id="plots" class="level2">
<h2 class="anchored" data-anchor-id="plots">Plots</h2>
<p>Finally, we will also include a plot, so our document is a little more colourful and a little less boring. We will use the <code>interview_plotting</code> data from the previous episode.</p>
<p>If you were unable to complete the previous lesson or did not save the data, then you can create it in a new code chunk.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Not run, but can be used to load in data from previous lesson!</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>interviews_plotting <span class="ot">&lt;-</span> interviews <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="do">## pivot wider by items_owned</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(items_owned, <span class="at">sep =</span> <span class="st">";"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## if there were no items listed, changing NA to no_listed_items</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">items_owned =</span> <span class="st">"no_listed_items"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">items_owned_logical =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> items_owned, </span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> items_owned_logical, </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">items_owned_logical =</span> <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="do">## pivot wider by months_lack_food</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(months_lack_food, <span class="at">sep =</span> <span class="st">";"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">months_lack_food_logical =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> months_lack_food, </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> months_lack_food_logical, </span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">months_lack_food_logical =</span> <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="do">## add some summary columns</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">number_months_lack_food =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., Jan<span class="sc">:</span>May))) <span class="sc">%&gt;%</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">number_items =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., bicycle<span class="sc">:</span>car)))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="exercise-1" class="level2 challenge">
<h2 class="anchored" data-anchor-id="exercise-1">Exercise</h2>
<p>Create a new code chunk for the plot, and copy the code from any of the plots we created in the previous episode to produce a plot in the chunk. I recommend one of the colourful plots.</p>
<p>If you are feeling adventurous, you can also create a new plot with the <code>interviews_plotting</code> data frame.</p>
<div class="proof solution">
<p><span class="proof-title"><em>Solution</em> (Solution to Exercise). </span></p>
<div class="cell" data-answer="true">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>interviews_plotting <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> respondent_wall_type)) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> village))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="06-rmarkdown_files/figure-html/my-fancy-plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<p>We can also create a caption with the chunk option <code>fig.cap</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r chunk-name, fig.cap = "I made this plot while attending an</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>awesome Data Carpentries workshop where I learned a ton of cool stuff<span class="sc">!</span><span class="st">"}</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="st">Code for plot</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>…or, ideally, something more informative.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>interviews_plotting <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> respondent_wall_type)) <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> village), <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Type of Wall in Home"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">fill =</span> <span class="st">"Village Name"</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="co"># add colour deficient friendly palette</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="06-rmarkdown_files/figure-html/caption-plot-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>I made this plot while attending an awesome Data Carpentries workshop where I learned a ton of cool stuff!</figcaption>
</figure>
</div>
</div>
</div>
<section id="other-output-options" class="level2">
<h2 class="anchored" data-anchor-id="other-output-options">Other output options</h2>
<p>You can convert R Markdown to a PDF or a Word document (among others). Click the little triangle next to the <strong>Knit</strong> button to get a drop-down menu. Or you could put <code>pdf_document</code> or <code>word_document</code> in the initial header of the file.</p>
<pre><code>---
title: "My Awesome Report"
author: "Emmet Brickowski"
date: ""
output: word_document
---</code></pre>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">None</span>Note: Creating PDF documents
</div>
</div>
<div class="callout-body-container callout-body">
<p>Creating .pdf documents may require installation of some extra software. The R package <code>tinytex</code> provides some tools to help make this process easier for R users. With <code>tinytex</code> installed, run <code>tinytex::install_tinytex()</code> to install the required software (you’ll only need to do this once) and then when you <strong>Knit</strong> to pdf <code>tinytex</code> will automatically detect and install any additional LaTeX packages that are needed to produce the pdf document. Visit the <a href="https://yihui.org/tinytex/">tinytex website</a> for more information.</p>
</div>
</div>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">None</span>Note: Inserting citations into an R Markdown file
</div>
</div>
<div class="callout-body-container callout-body">
<p>It is possible to insert citations into an R Markdown file using the editor toolbar. The editor toolbar includes commonly seen formatting buttons generally seen in text editors (e.g., bold and italic buttons). The toolbar is accessible by using the settings dropdown menu (next to the ‘Knit’ dropdown menu) to select ‘Use Visual Editor’, also accessible through the shortcut ‘Crtl+Shift+F4’. From here, clicking ‘Insert’ allows ‘Citation’ to be selected (shortcut: ‘Crtl+Shift+F8’). For example, searching ‘10.1007/978-3-319-24277-4’ in ‘From DOI’ and inserting will provide the citation for <code>ggplot2</code> <span class="citation" data-cites="wickham2016">[@wickham2016]</span>. This will also save the citation(s) in ‘references.bib’ in the current working directory. Visit the <a href="https://rstudio.github.io/visual-markdown-editing/">R Studio website</a> for more information. Tip: obtaining citation information from relevant packages can be done by using <code>citation("package")</code>.</p>
</div>
</div>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<ul>
<li><a href="https://kbroman.org/knitr_knutshell">Knitr in a knutshell tutorial</a></li>
<li><a href="https://www.amazon.com/exec/obidos/ASIN/1482203537/7210-20">Dynamic Documents with R and knitr</a> (book)</li>
<li><a href="https://rmarkdown.rstudio.com">R Markdown documentation</a></li>
<li><a href="https://github.com/rstudio/cheatsheets/blob/master/rmarkdown-2.0.pdf">R Markdown cheat sheet</a></li>
<li><a href="https://www.rstudio.com/resources/webinars/getting-started-with-r-markdown/">Getting started with R Markdown</a></li>
<li><a href="https://commonmark.org/help/tutorial/">Markdown tutorial</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definitive Guide</a> (book by Rstudio team)</li>
<li><a href="https://www.rstudio.com/resources/webinars/reproducible-reporting/">Reproducible Reporting</a></li>
<li><a href="https://www.rstudio.com/resources/webinars/the-ecosystem-of-r-markdown/">The Ecosystem of R Markdown</a></li>
<li><a href="https://www.rstudio.com/resources/webinars/introducing-bookdown/">Introducing Bookdown</a></li>
</ul>
<div class="keypoints">
<ul>
<li>R Markdown is a useful language for creating reproducible documents combining text and executable R-code.</li>
<li>Specify chunk options to control formatting of the output document</li>
</ul>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>